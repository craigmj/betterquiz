!function(){(function(){var t,e,n,o,r,i,a;r=document._currentScript||document.currentScript,e=function(){function t(t,e,n,o,r){null==r&&(r=!0),this.el=document.createElement("li"),o&&(this.el.className="current"),r||(this.el.className=this.el.className+" unavailable"),this.el.innerHTML='<a href="#">'+e+"</a>",this.el.addEventListener("click",function(t){return function(e){if(e.stopPropagation(),e.preventDefault(),console.log("Clicked page ",n),!o&&r)return e=new CustomEvent("bq-page",{bubbles:!0,cancelable:!0,detail:{n:n}}),t.el.dispatchEvent(e)}}(this))}return t}(),n=function(){function t(t,e){this.ul=t,this.paginator=e,this.setup()}return t.prototype.setup=function(){for(var t,n,o,r,i,a,l,s,u;this.ul.firstChild;)this.ul.removeChild(this.ul.firstChild);for(this.pagesToShow=parseInt(this.paginator.getAttribute("pages-to-show")),this.current=parseInt(this.paginator.getAttribute("current")),this.totalItems=parseInt(this.paginator.getAttribute("total-items")),this.itemsPerPage=parseInt(this.paginator.getAttribute("items-per-page")),l=this.calculatePages(this.current,this.pagesToShow,this.totalItems,this.itemsPerPage),i=l[0],r=l[1],o=l[2],a=new e(this,"&laquo;",this.current-1,(!1),0<this.current),this.ul.appendChild(a.el),t=n=s=i,u=r;s<=u?n<=u:n>=u;t=s<=u?++n:--n)a=new e(this,t+1,t,this.current===t,(!0)),this.ul.appendChild(a.el);return a=new e(this,"&raquo;",this.current+1,(!1),this.current+1<o),this.ul.appendChild(a.el),this.ul.addEventListener("bq-page",function(t){return console.log("Paginator::bq-page : pg=",t.detail.n)})},t.prototype.calculatePages=function(t,e,n,o){var r,i,a;return console.log(arguments),a=Math.max(0,t-Math.floor(e/2)),r=Math.ceil(n/(1*o)-1),a+e>r&&(a=Math.max(0,r-e)),i=Math.min(a+e,r),[a,i,r]},t}(),"undefined"!=typeof a&&null!==a||(a=function(t,e){var n,o,r,i;if(Platform.ShadowCSS)for(n=function(t){var n;n=Platform.ShadowCSS.shimStyle(t,e),Platform.ShadowCSS.addCssToDocument(n),t.remove()},o=0,r=t.length;o<r;o++)i=t[o],n(i)}),t=Object.create(window.HTMLElement.prototype),t.createdCallback=function(){var t,e,o,i,l,s,u,c,h;for(null!=(l=window.HTMLElement)&&null!=(s=l.prototype)&&null!=(u=s.createdCallback)&&"function"==typeof u.call&&u.call(this),e=r.ownerDocument,h=e.querySelector("#bq-paginator-template").content,a(h.querySelectorAll("style"),"bq-paginator"),"function"==typeof this.attachShadowRoot?this.shadowRoot=this.attachShadowRoot({mode:"open"}):this.shadowRoot=this.createShadowRoot(),this.el=h.cloneNode(!0),this.$={},c=this.el.querySelectorAll("[data-set]"),o=0,i=c.length;o<i;o++)t=c[o],this.$[t.getAttribute("data-set")]=t;this.paginator=new n(this.$.ul,this),this.shadowRoot.appendChild(this.el)},o={current:function(t,e){return this.paginator.setup()}},t.attributeChangedCallback=function(t,e,n){var r;return null!=(r=o[t])&&"function"==typeof r.call?r.call(this,e,n):void 0},i=function(t){return{get:function(){return this.getAttribute(t)},set:function(e){this.setAttribute(t,e)}}},Object.defineProperties(t,{current:i("current")}),window.BqPaginatorElement=document.registerElement("bq-paginator",{prototype:t})}).call(this),function(){var t,e,n,o,r,i;o=document._currentScript||document.currentScript,e=function(){function t(t){var e,n,o,r;if(null==t&&(t=!1),!1===t&&(t=window.location.search.substr(1).split("&")),""===t)return{};for(this.qs={},e=function(t,e){var n;return n=t.split("=",2),1===n.length?e[n[0]]="":e[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))},n=0,o=t.length;n<o;n++)r=t[n],e(r,this.qs)}return t.prototype.get=function(t){return this.qs[t]},t.prototype.has=function(t){return null!=this.qs[t]},t.prototype.set=function(t,e){return this.qs[t]=e},t.prototype.url=function(){var t,e,n;return n=function(){var n,o;n=this.qs,o=[];for(t in n)e=n[t],o.push(encodeURIComponent(t)+"="+encodeURIComponent(e));return o}.call(this),window.location.origin+window.location.pathname+"?"+n.join("&")},t}(),"undefined"!=typeof i&&null!==i||(i=function(t,e){var n,o,r,i;if(Platform.ShadowCSS)for(n=function(t){var n;n=Platform.ShadowCSS.shimStyle(t,e),Platform.ShadowCSS.addCssToDocument(n),t.remove()},o=0,r=t.length;o<r;o++)i=t[o],n(i)}),t=Object.create(window.HTMLElement.prototype),t.createdCallback=function(){var t,n,r,a,l,s,u,c,h,p,d;for(null!=(u=window.HTMLElement)&&null!=(c=u.prototype)&&null!=(h=c.createdCallback)&&"function"==typeof h.call&&h.call(this),l=o.ownerDocument,d=l.querySelector("#bq-param-paginator-template").content,i(d.querySelectorAll("style"),"bq-param-paginator"),"function"==typeof this.attachShadowRoot?this.shadowRoot=this.attachShadowRoot({mode:"open"}):this.shadowRoot=this.createShadowRoot(),this.el=d.cloneNode(!0),this.$={},t=this.el.querySelectorAll("[data-set]"),r=function(e){return function(n){var o;o=t.item(n),e.$[o.getAttribute("data-set")]=o}}(this),a=s=0,p=t.length;0<=p?s<p:s>p;a=0<=p?++s:--s)r(a);this.qs=new e,this.param=this.getAttribute("parameter"),this.paginator=document.getElementById(this.getAttribute("paginator")),n=function(t){return function(){var e;return"complete"===document.readyState&&(t.qs.has(t.param)&&(e=parseInt(t.qs.get(t.param)),t.paginator.setAttribute("current",e)),t.paginator.addEventListener("bq-page",function(e){return t.qs.set(t.param,e.detail.n),window.location=t.qs.url()}),!0)}}(this),n()||document.addEventListener("readystatechange",function(t){return function(){return n()}}(this))},t.attributeChangedCallback=function(t,e,o){var r;return null!=(r=n[t])&&"function"==typeof r.call?r.call(this,e,o):void 0},n={example:function(t,e){}},r=function(t){return{get:function(){return this.getAttribute(t)},set:function(e){this.setAttribute(t,e)}}},Object.defineProperties(t,{example:r("example")}),window.BqParamPaginatorElement=document.registerElement("bq-param-paginator",{prototype:t})}.call(this)}();