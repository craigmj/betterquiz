!function(){(function(){var t,e,n,r,o,i,a;o=document._currentScript||document.currentScript,e=function(){function t(t,e,n,r,o){null==o&&(o=!0),this.el=document.createElement("li"),r&&(this.el.className="current"),o||(this.el.className=this.el.className+" unavailable"),this.el.innerHTML='<a href="#">'+e+"</a>",this.el.addEventListener("click",function(t){return function(e){return e.stopPropagation(),e.preventDefault(),!r&&o?(e=new CustomEvent("bq-page",{bubbles:!0,cancelable:!0,detail:{n:n}}),t.el.dispatchEvent(e)):void 0}}(this))}return t}(),n=function(){function t(t,e){this.ul=t,this.paginator=e,this.setup()}return t.prototype.setup=function(){for(var t,n,r,o,i,a,l,s,u;this.ul.firstChild;)this.ul.removeChild(this.ul.firstChild);for(this.pagesToShow=parseInt(this.paginator.getAttribute("pages-to-show")),this.current=parseInt(this.paginator.getAttribute("current")),"function"==typeof console.log&&console.log("In Paginator::setup - @current = "+this.current),this.totalItems=parseInt(this.paginator.getAttribute("total-items")),this.itemsPerPage=parseInt(this.paginator.getAttribute("items-per-page")),l=this.calculatePages(this.current,this.pagesToShow,this.totalItems,this.itemsPerPage),i=l[0],o=l[1],r=l[2],a=new e(this,"&laquo;",this.current-1,!1,0<this.current),this.ul.appendChild(a.el),t=n=s=i,u=o;u>=s?u>=n:n>=u;t=u>=s?++n:--n)a=new e(this,t+1,t,this.current===t,!0),this.ul.appendChild(a.el);return a=new e(this,"&raquo;",this.current+1,!1,this.current+1<r),this.ul.appendChild(a.el),this.ul.addEventListener("bq-page",function(t){return console.log("Paginator::bq-page : pg=",t.detail.n)})},t.prototype.calculatePages=function(t,e,n,r){var o,i,a;return console.log(arguments),a=Math.max(0,t-Math.floor(e/2)),console.log("minPage = "+a),o=Math.ceil(n/(1*r)-1),console.log("lastPage = "+o),a+e>o&&(a=Math.max(0,o-e)),i=Math.min(a+e,o),[a,i,o]},t}(),("undefined"==typeof a||null===a)&&(a=function(t,e){var n,r,o,i;if(Platform.ShadowCSS)for(n=function(t){var n;n=Platform.ShadowCSS.shimStyle(t,e),Platform.ShadowCSS.addCssToDocument(n),t.remove()},r=0,o=t.length;o>r;r++)i=t[r],n(i)}),t=Object.create(window.HTMLElement.prototype),t.createdCallback=function(){var t,e,r,i,l,s,u,c,h;for(null!=(l=window.HTMLElement)&&null!=(s=l.prototype)&&null!=(u=s.createdCallback)&&"function"==typeof u.call&&u.call(this),e=o.ownerDocument,h=e.querySelector("#bq-paginator-template").content,a(h.querySelectorAll("style"),"bq-paginator"),this.shadowRoot=this.createShadowRoot(),this.el=h.cloneNode(!0),this.$={},c=this.el.querySelectorAll("[data-set]"),r=0,i=c.length;i>r;r++)t=c[r],this.$[t.getAttribute("data-set")]=t;this.paginator=new n(this.$.ul,this),this.shadowRoot.appendChild(this.el),console.log("Completed bq-paginator createdCallback")},r={current:function(t,e){return console.log("this = ",this),this.paginator.setup()}},t.attributeChangedCallback=function(t,e,n){var o;return null!=(o=r[t])&&"function"==typeof o.call?o.call(this,e,n):void 0},i=function(t){return{get:function(){return this.getAttribute(t)},set:function(e){this.setAttribute(t,e)}}},Object.defineProperties(t,{current:i("current")}),window.BqPaginatorElement=document.registerElement("bq-paginator",{prototype:t})}).call(this),function(){var t,e,n,r,o,i;r=document._currentScript||document.currentScript,e=function(){function t(t){var e,n,r,o;if(null==t&&(t=!1),!1===t&&(t=window.location.search.substr(1).split("&")),""===t)return{};for(this.qs={},e=function(t,e){var n;return n=t.split("=",2),e[n[0]]=1===n.length?"":decodeURIComponent(n[1].replace(/\+/g," "))},n=0,r=t.length;r>n;n++)o=t[n],e(o,this.qs)}return t.prototype.get=function(t){return this.qs[t]},t.prototype.has=function(t){return null!=this.qs[t]},t.prototype.set=function(t,e){return this.qs[t]=e},t.prototype.url=function(){var t,e,n;return n=function(){var n,r;n=this.qs,r=[];for(t in n)e=n[t],r.push(encodeURIComponent(t)+"="+encodeURIComponent(e));return r}.call(this),window.location.origin+window.location.pathname+"?"+n.join("&")},t}(),("undefined"==typeof i||null===i)&&(i=function(t,e){var n,r,o,i;if(Platform.ShadowCSS)for(n=function(t){var n;n=Platform.ShadowCSS.shimStyle(t,e),Platform.ShadowCSS.addCssToDocument(n),t.remove()},r=0,o=t.length;o>r;r++)i=t[r],n(i)}),t=Object.create(window.HTMLElement.prototype),t.createdCallback=function(){var t,n,o,a,l,s,u,c,h,p;for(null!=(s=window.HTMLElement)&&null!=(u=s.prototype)&&null!=(c=u.createdCallback)&&"function"==typeof c.call&&c.call(this),a=r.ownerDocument,p=a.querySelector("#bq-param-paginator-template").content,i(p.querySelectorAll("style"),"bq-param-paginator"),this.shadowRoot=this.createShadowRoot(),this.el=p.cloneNode(!0),this.$={},t=this.el.querySelectorAll("[data-set]"),n=function(e){return function(n){var r;r=t.item(n),e.$[r.getAttribute("data-set")]=r}}(this),o=l=0,h=t.length;h>=0?h>l:l>h;o=h>=0?++l:--l)n(o);this.qs=new e,this.param=this.getAttribute("parameter"),this.paginator=document.getElementById(this.getAttribute("paginator")),document.addEventListener("readystatechange",function(t){return function(){var e;if("complete"===document.readyState)return t.qs.has(t.param)&&(e=parseInt(t.qs.get(t.param)),t.paginator.setAttribute("current",e)),t.paginator.addEventListener("bq-page",function(e){return t.qs.set(t.param,e.detail.n),window.location=t.qs.url()})}}(this))},t.attributeChangedCallback=function(t,e,r){var o;return null!=(o=n[t])&&"function"==typeof o.call?o.call(this,e,r):void 0},n={example:function(t,e){}},o=function(t){return{get:function(){return this.getAttribute(t)},set:function(e){this.setAttribute(t,e)}}},Object.defineProperties(t,{example:o("example")}),window.BqParamPaginatorElement=document.registerElement("bq-param-paginator",{prototype:t})}.call(this)}();