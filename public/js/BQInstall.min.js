function t(t,e){if(e==null||e>t.length)e=t.length;for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e(t){if(Array.isArray(t))return t}function n(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function r(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function o(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(t){return false}}function a(t,e,n){if(o()){a=Reflect.construct}else{a=function a(t,e,n){var r=[null];r.push.apply(r,e);var o=Function.bind.apply(t,r);var a=new o;if(n)h(a,n.prototype);return a}}return a.apply(null,arguments)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function s(t,e,n){if(e)i(t.prototype,e);if(n)i(t,n);return t}function l(t){l=Object.setPrototypeOf?Object.getPrototypeOf:function l(t){return t.__proto__||Object.getPrototypeOf(t)};return l(t)}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)h(t,e)}function c(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function d(t,e){var n=t==null?null:typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n==null)return;var r=[];var o=true;var a=false;var i,s;try{for(n=n.call(t);!(o=(i=n.next()).done);o=true){r.push(i.value);if(e&&r.length===e)break}}catch(l){a=true;s=l}finally{try{if(!o&&n["return"]!=null)n["return"]()}finally{if(a)throw s}}return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,e){if(e&&(b(e)==="object"||typeof e==="function")){return e}return n(t)}function h(t,e){h=Object.setPrototypeOf||function h(t,e){t.__proto__=e;return t};return h(t,e)}function v(t,n){return e(t)||d(t,n)||y(t,n)||f()}var b=function(t){"@swc/helpers - typeof";return t&&typeof Symbol!=="undefined"&&t.constructor===Symbol?"symbol":typeof t};function y(e,n){if(!e)return;if(typeof e==="string")return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}function g(t){var e=typeof Map==="function"?new Map:undefined;g=function g(t){if(t===null||!c(t))return t;if(typeof t!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof e!=="undefined"){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return a(t,arguments,l(this).constructor)}n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:false,writable:true,configurable:true}});return h(n,t)};return g(t)}function w(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(t){return false}}function m(t){var e=w();return function n(){var n=l(t),r;if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else{r=n.apply(this,arguments)}return p(this,r)}}(function(){var t=function t(t,e){var n=function n(t,e,n,r){t.addEventListener(e,function(t){n[r].call(n,t)})};var r=function r(t){var r=t.getAttribute("data-event").split(";");var o=true,a=false,i=undefined;try{var s=function(){var r=u.value;var o=v(r.trim().split(":").map(function(t){return t.trim()}),2),a=o[0],i=o[1];var s=true,l=false,d=undefined;try{for(var f=a.split(",").map(function(t){return t.trim()})[Symbol.iterator](),p;!(s=(p=f.next()).done);s=true){var h=p.value;if(!i){i=h}n(t,h,e,i)}}catch(c){l=true;d=c}finally{try{if(!s&&f.return!=null){f.return()}}finally{if(l){throw d}}}};for(var l=r[Symbol.iterator](),u;!(o=(u=l.next()).done);o=true)s()}catch(c){a=true;i=c}finally{try{if(!o&&l.return!=null){l.return()}}finally{if(a){throw i}}}};if("function"==typeof t.hasAttribute&&t.hasAttribute("data-event")){r(t)}var o=true,a=false,i=undefined;try{for(var s=t.querySelectorAll("[data-event]")[Symbol.iterator](),l;!(o=(l=s.next()).done);o=true){var u=l.value;r(u)}}catch(c){a=true;i=c}finally{try{if(!o&&s.return!=null){s.return()}}finally{if(a){throw i}}}};var e=function(){var t={"BQInstall":"<template>\n	<style>:host {\n  display: flex;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);\n  padding: 1em 2em;\n  border: 1px solid #ccc;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: stretch;\n  width: 100%; }\n</style>\n	<bq-wizard>\n		<bq-wizard-database-config> </bq-wizard-database-config>\n		<bq-wizard-bulk-sms-config> </bq-wizard-bulk-sms-config>\n	</bq-wizard>\n</template>\n","BQStatus":'<template>\n	<style>:host {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  width: 100%;\n  font-size: 0.8em;\n  margin: 0.6em 0;\n  padding: 0.6em 0; }\n\n:host(.ok) #ok {\n  display: block; }\n:host(.ok) #error {\n  display: none; }\n\n:host(.error) #ok {\n  display: none; }\n:host(.error) #error {\n  display: block; }\n\n#ok, #error {\n  padding: 0.6em; }\n\n#ok {\n  border: 1px solid green;\n  color: #060;\n  background-color: #dfd; }\n\n#error {\n  border: 1px solid red;\n  color: red;\n  background-color: #fff0f0; }\n\n#explain {\n  color: #666; }\n</style>\n	<div id="ok">\n	</div>\n	<div id="error">\n	</div>\n	<div id="explain">\n	</div>\n</template>\n',"BQWizard":'<template>\n	<style>:host {\n  --color-wizard: #6cf;\n  display: flex;\n  flex-direction: column;\n  justify-content: top;\n  align-items: stretch;\n  width: 100%; }\n\n#header {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: stretch; }\n  #header > div {\n    background-color: #eee;\n    padding: 0.3em 1em;\n    border-top: 3px solid transparent; }\n    #header > div.display {\n      border-color: var(--color-wizard, #6cf);\n      background-color: white; }\n\nfooter {\n  display: grid;\n  grid-template-columns: 1fr repeat(2, auto);\n  grid-column-gap: 1em;\n  margin-top: 1em;\n  border-top: 1px solid #eee;\n  padding: 0.4em; }\n  footer button {\n    background-color: white;\n    border: 1px solid var(--color-wizard, #6cf);\n    padding: 0.4em 1em;\n    color: var(--color-wizard, #6cf); }\n    footer button:not([disabled]):hover {\n      background-color: var(--color-wizard, #6cf);\n      color: white; }\n    footer button:first-child {\n      justify-self: start; }\n    footer button[disabled] {\n      border-color: #666;\n      color: #666; }\n\n#main > *:not(.display) {\n  display: none; }\n</style>\n	<header id="header">\n	</header>\n	<slot id="main">\n	</slot>\n	<footer>\n		<button id="cancel" data-event="click:cancel">Cancel</button>\n		<button id="previous" data-event="click:previous" disabled="">Previous</button>\n		<button id="next" data-event="click:next">Next</button>\n	</footer>\n</template>\n',"BQWizardBulkSmsConfig":"<template>\n	This is the bulk sms configuration\n</template>\n","BQWizardDatabaseConfig":'<template>\n	<style>:host {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch; }\n\nlabel {\n  margin-top: 0.6em;\n  margin-bottom: -0.2em;\n  font-size: 0.7em;\n  color: #666; }\n</style>	\n	<label for="server">Server</label>\n	<input type="text" id="server" placeholder="localhost" value="localhost"/>\n	<label for="username">Username</label>\n	<input type="text" id="username" placeholder="user" value="betterquiz"/>\n	<label for="password">Password</label>\n	<input-password id="password" placeholder="password" value="betterquiz"> </input-password>\n	<label for="database">Database</label>\n	<input type="text" id="database" placeholder="betterquiz" value="betterquiz"/>\n	<bq-status id="status" ok="So far so good" explain="We got some issues.">\n	</bq-status>\n</template>\n',"InputPassword":'<template>\n	<style>:host {\n  border: 0px solid red;\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-betweeen;\n  align-items: stretch;\n  gap: 0.4em; }\n\ninput {\n  flex-grow: 1; }\n\nbutton {\n  tranform: translate(-5em);\n  border-width: 0;\n  background-color: transparent;\n  color: #777; }\n  button > svg {\n    width: 1.4em; }\n  button.show svg#eye-off {\n    display: none; }\n  button.show svg#eye {\n    display: block; }\n  button:not(.show) svg#eye-off {\n    display: block; }\n  button:not(.show) svg#eye {\n    display: none; }\n</style>\n	<input id="input" placeholder="placeholder"/>\n	\n	<button id="show">\n		<svg stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" id="eye" viewBox="0 0 24 24" fill="none"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>\n		<svg stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" id="eye-off" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>\n	</button>\n</template>\n'};var e=function(t,n){var r=document.createElement("div");r.innerHTML=n;var o=r.firstElementChild;while(null!=o&&Node.ELEMENT_NODE!=o.nodeType){o=o.nextSibling}if(null==o){console.error("FAILED TO FIND ANY ELEMENT CHILD OF ",t,":",r);return e("error","<em>No child elements in template "+t+"</em>")}r=o;if("function"==typeof r.querySelector){var a=r.querySelector('[data-set="this"]');if(null!=a){r=a;r.removeAttribute("data-set")}}return r};return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var o=t[n];if("string"==typeof o){o=e(n,o);t[n]=o}if("undefined"==typeof o){console.error("Failed to find template "+n);return[false,false]}if(o.content){o=o.content.cloneNode(true)}else{o=o.cloneNode(true)}try{for(var a=0,i=["id","data-set"];a<i.length;a++){var s=i[a];var l=Array.from(o.querySelectorAll("["+s+"]"));if("function"==typeof o.hasAttribute&&o.hasAttribute(s)){l.unshift(o)}var u=true,c=false,d=undefined;try{for(var f=l[Symbol.iterator](),p;!(u=(p=f.next()).done);u=true){var h=p.value;var v=h.getAttribute(s);if(v.substr(0,1)=="$"){v=v.substr(1);h=jQuery(h);h.setAttribute(s,v)}r[v]=h}}catch(c){c=true;d=c}finally{try{if(!u&&f.return!=null){f.return()}}finally{if(c){throw d}}}}}catch(b){console.error("ERROR in DTemplate("+n+"): ",b);debugger}return[o,r]}}();var o=function(t){"use strict";u(o,t);var n=m(o);function o(){r(this,o);var t;t=n.call(this);var a;a=v(e("BQStatus"),2),t.el=a[0],t.$=a[1],a;t.attachShadow({mode:"open"});t.shadowRoot.appendChild(t.el);return t}s(o,[{key:"connectedCallback",value:function t(){this.setError(this.getAttribute("error"));this.setOk(this.getAttribute("ok"));this.$.explain.innerText=this.getAttribute("explain")}},{key:"setError",value:function t(t){if(!t)return;console.log("BQStauts::setError(".concat(t,")"));this.classList.remove("ok");this.classList.add("error");this.$.error.innerText=t;this.$.ok.innerText=""}},{key:"setOk",value:function t(t){if(!t)return;console.log("BQStatus.setOk(".concat(t,")"));this.classList.remove("error");this.classList.add("ok");this.$.ok.innerText=t}},{key:"attributeChangedCallback",value:function t(t,e,n){switch(t){case"explain":this.$.explain.innerText=n;break;case"error":this.setError(n);break;case"ok":this.setOk(n);break}}}],[{key:"observedAttributes",get:function t(){return["explain","error","ok"]}}]);return o}(g(HTMLElement));customElements.define("bq-status",o);var a=function(){"use strict";function t(e,n){r(this,t);this.tab=e;this.titleEl=n;this._display=this.tab.style.display}s(t,[{key:"display",value:function t(t){if(t){this.tab.style.display=this._display}else{this._display=this.tab.style.display;this.tab.style.display="none"}var e=t?"add":"remove";this.titleEl.classList[e]("display")}},{key:"dispatchEvent",value:function t(t){this.tab.dispatchEvent(t)}},{key:"id",get:function t(){return this.tab.getId()}}]);return t}();var i=function(o){"use strict";u(c,o);var l=m(c);function c(){r(this,c);var o;o=l.call(this);var a;a=v(e("BQWizard"),2),o.el=a[0],o.$=a[1],a;o.attachShadow({mode:"open"});o.shadowRoot.appendChild(o.el);o.addEventListener("wizard-add-tab",function(t){return o.addTab(t)});o.addEventListener("wizard-enable-tab",function(t){return o.enableTab(t)});o.addEventListener("wizard-show-tab",function(t){return o.showTab(t)});o.addEventListener("wizard-set-next-text",function(t){return o.setNextText(t)});o.addEventListener("wizard-disable-buttons",function(t){return o.disableButtons(t)});o.addEventListener("wizard-set-working",function(t){return o.setWorking(t)});o.tabs=[];o.activeTab=false;t(o.shadowRoot,n(o));return o}s(c,[{key:"connectedCallback",value:function t(){}},{key:"addTab",value:function t(t){t.stopPropagation();var e=t.detail;var n=document.createElement("div");var r=e.getTitleText();if("string"==typeof r){n.innerText=r}else{n=document.createElement("slot");n.appendChild(r)}this.$.header.appendChild(n);var o=new a(e,n);if(!this.activeTab){this.activeTab=o;o.display(true)}else{o.display(false)}this.tabs.push(o)}},{key:"enableTab",value:function t(t){t.stopPropagation()}},{key:"showTab",value:function t(t){t.stopPropagation();var e=t.detail.id;console.log("BQWizard: Going to show Tab ".concat(e));this.tabs.map(function(t){return console.log("tab has id ".concat(t.id))});var n=this.tabs.filter(function(t){return t.id==e});if(0==n.length){console.error("Requested tab with id ".concat(e,", but no such tab found"));return}this.activeTab.display(false);this.activeTab=n[0];this.activeTab.display(true)}},{key:"setWorking",value:function t(t){var e=t.detail.working;console.log("BQWizard::setWorking w working=".concat(e))}},{key:"setNextText",value:function t(t){t.stopPropagation();var e=t.detail;if("string"==typeof e){this.$.next.innerText=e}else{console.warn("setNextText() called with non-string parameter ",e);this.$.next.innerHTML="";this.$.next.appendChild(e)}}},{key:"disableButtons",value:function t(t){t.stopPropagation();var e=function(t,e){if(e){t.setAttribute("disabled","disabled")}else{t.removeAttribute("disabled")}};e(this.$.next,t.detail.next);e(this.$.canccel,t.detail.cancel);e(this.$.previous,t.detail.previous)}},{key:"previous",value:function t(t){t.stopPropagation();t.preventDefault();console.log("previous clicked")}},{key:"cancel",value:function t(t){t.stopPropagation();t.preventDefault();console.log("cancel clicked")}},{key:"next",value:function t(t){t.stopPropagation();t.preventDefault();this.activeTab.dispatchEvent(new CustomEvent("wizard-tab-next",{bubbles:true,composed:true,cancelable:true,detail:this}))}}],[{key:"showTag",value:function t(t,e){t.dispatchEvent(new CustomEvent("wizard-show-tab",{bubbles:true,composed:true,cancelable:true,detail:{source:t,id:e}}))}},{key:"sendSetWorking",value:function t(t,e){t.dispatchEvent(new CustomEvent("wizard-set-working",{bubbles:true,composed:true,cancelable:true,detail:{source:t,working:e}}))}},{key:"startWorking",value:function t(t){i.sendSetWorking(t,true)}},{key:"stopWorking",value:function t(t){i.sendSetWorking(t,false)}}]);return c}(g(HTMLElement));customElements.define("bq-wizard",i);var l=function(t){"use strict";u(o,t);var n=m(o);function o(){r(this,o);var t;t=n.call(this);var a;a=v(e("BQWizardDatabaseConfig"),2),t.el=a[0],t.$=a[1],a;t.attachShadow({mode:"open"});t.shadowRoot.appendChild(t.el);t.addEventListener("wizard-tab-next",function(e){return t.nextPressed(e)});return t}s(o,[{key:"connectedCallback",value:function t(){console.log("BQWizardDatabaseConfig::connectedCallback()");this.dispatchEvent(new CustomEvent("wizard-add-tab",{composed:true,bubbles:true,cancelable:true,detail:this}))}},{key:"getTitleText",value:function t(){return"Database"}},{key:"getId",value:function t(){return"database"}},{key:"nextPressed",value:function t(t){var e=this;t.stopPropagation();i.startWorking(this);var n=this.$.server.value;var r=this.$.username.value;var o=this.$.password.value;var a=this.$.database.value;window.BQApi.CheckConfigureDatabase(n,r,o,a).then(function(t){console.log("BQApi.ConfigDatabase = ",t);if(t.error_code){e.$.status.setAttribute("explain","These settings don't seem to be right. Please check them and try again.");e.$.status.setAttribute("error",t.error)}else{e.$.status.setAttribute("ok","We've configured the database.");i.showTag(e,"bulksms")}}).finally(function(){i.stopWorking(e)});console.log("BQWizardDatabaseConfig: nextPressed")}}]);return o}(g(HTMLElement));customElements.define("bq-wizard-database-config",l);var c=function(t){"use strict";u(o,t);var n=m(o);function o(){r(this,o);var t;t=n.call(this);var a;a=v(e("BQWizardBulkSmsConfig"),2),t.el=a[0],t.$=a[1],a;t.attachShadow({mode:"open"});t.shadowRoot.appendChild(t.el);return t}s(o,[{key:"connectedCallback",value:function t(){this.dispatchEvent(new CustomEvent("wizard-add-tab",{composed:true,bubbles:true,cancelable:true,detail:this}))}},{key:"getTitleText",value:function t(){return"BulkSMS"}},{key:"getId",value:function t(){return"bulksms"}}]);return o}(g(HTMLElement));customElements.define("bq-wizard-bulk-sms-config",c);var d=function(t){"use strict";u(o,t);var n=m(o);function o(){r(this,o);var t;t=n.call(this);t.setAttribute("type","password");var a;a=v(e("InputPassword"),2),t.el=a[0],t.$=a[1],a;t.attachShadow({mode:"open"});t.shadowRoot.appendChild(t.el);t.$.show.addEventListener("click",function(e){return t.toggleShow(e)});t.show(true);return t}s(o,[{key:"connectedCallback",value:function t(){this.$.input.setAttribute("placeholder",this.getAttribute("placeholder"));this.$.input.value=this.getAttribute("value")}},{key:"value",get:function t(){return this.$.input.value}},{key:"show",value:function t(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:false;this.$.input.setAttribute("type",t?"password":"input");this.$.show.classList[t?"add":"remove"]("show")}},{key:"isShown",value:function t(){console.log("this.$.input.getAttribute('type')==".concat(this.$.input.getAttribute("type")));return"input"==this.$.input.getAttribute("type")}},{key:"toggleShow",value:function t(t){if(t){t.preventDefault()}this.show(this.isShown())}}]);return o}(g(HTMLElement));customElements.define("input-password",d);var f=function(t){"use strict";u(o,t);var n=m(o);function o(){r(this,o);var t;t=n.call(this);var a;a=v(e("BQInstall"),2),t.el=a[0],t.$=a[1],a;t.attachShadow({mode:"open"});t.shadowRoot.appendChild(t.el);return t}s(o,[{key:"connectedCallback",value:function t(){if(!window.BQApi){console.error("BQApi is not defined")}else{window.BQApi.CheckDatabase().then(function(t){console.log("BQApi.CheckDatabase = ",t)});window.BQApi.Panacea().then(function(t){console.log("BQApi.Panacea = ",t)})}}},{key:"API",value:function t(){return window.BQApi}}]);return o}(g(HTMLElement));customElements.define("bq-install",f)})();

//# sourceMappingURL=BQInstall.min.js.map